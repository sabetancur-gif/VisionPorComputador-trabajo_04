# VisiÃ³n por Computador: QuantumViz

## ğŸ§  Trabajo 04 â€” Sistema de DetecciÃ³n y Seguimiento de Peatones (MOT17)

---

### ğŸ“Œ Resumen

Este repositorio presenta el desarrollo, implementaciÃ³n y evaluaciÃ³n de un pipeline completo de visiÃ³n por computador para detecciÃ³n y seguimiento de objetos en secuencias de video, utilizando:

* YOLOv8 para detecciÃ³n de objetos (personas)

* Seguimiento basado en Flujo Ã“ptico + IoU para asignaciÃ³n de identidades (tracking)

El sistema se aplica sobre el dataset MOT17, ampliamente utilizado en investigaciÃ³n para Multiple Object Tracking (MOT), y permite generar resultados visuales, mÃ©tricas cuantitativas y salidas reproducibles para anÃ¡lisis acadÃ©mico.

---

### ğŸ“ Estructura del repositorio

```
vision-por-computador-trabajo_04/
â”œâ”€â”€ data/
â”‚   â””â”€â”€ mot17/
â”‚       â”œâ”€â”€ images/
â”‚       â”‚   â”œâ”€â”€ MOT17-02-FRCNN/
â”‚       â”‚   â”œâ”€â”€ MOT17-04-FRCNN/
â”‚       â”‚   â””â”€â”€ ...
â”‚       â””â”€â”€ annotations/
â”‚           â”œâ”€â”€ train.json
â”‚           â”œâ”€â”€ test.json
â”‚           â”œâ”€â”€ train_half.json
â”‚           â””â”€â”€ val_half.json
â”‚
â”œâ”€â”€ notebooks/
â”‚   â””â”€â”€ exploratorio.ipynb
â”‚
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ cis_val_run/
â”‚   â”‚   â”œâ”€â”€ figures/
â”‚   â”‚   â”‚   â”œâ”€â”€ detection_metrics.png
â”‚   â”‚   â”‚   â”œâ”€â”€ detections_per_frame.png
â”‚   â”‚   â”‚   â”œâ”€â”€ sample_frame_0.png
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ detections.csv
â”‚   â”‚   â”œâ”€â”€ tracks.csv
â”‚   â”‚   â”œâ”€â”€ metrics.json
â”‚   â”‚   â”œâ”€â”€ detection_metrics.json
â”‚   â”‚   â””â”€â”€ tracking_result.mp4
â”‚   â””â”€â”€ exploratorio/
â”‚
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ data_loader.py
â”‚   â”œâ”€â”€ detector.py
â”‚   â”œâ”€â”€ tracker.py
â”‚   â”œâ”€â”€ eval.py
â”‚   â”œâ”€â”€ utils.py
â”‚   â””â”€â”€ run_pipeline.py
â”‚
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ yolo8n.pt
â””â”€â”€ README.md
```

---

### ğŸ¯ Objetivos especÃ­ficos

* Implementar un detector de peatones usando YOLOv8.
* Aplicar seguimiento multi-objeto mediante flujo Ã³ptico (Lucasâ€“Kanade) y matching por IoU.
* Integrar detecciÃ³n y tracking en un pipeline reproducible.
* Evaluar el desempeÃ±o mediante mÃ©tricas de detecciÃ³n (Precision, Recall, F1).
* Generar visualizaciones y resultados claros para anÃ¡lisis tÃ©cnico y acadÃ©mico.

---

### ğŸ“¦ Datos

El proyecto utiliza el dataset MOT17 (Multiple Object Tracking) en formato COCO-like, disponible pÃºblicamente.

* Clases: pedestrian
* ResoluciÃ³n tÃ­pica: 1920Ã—1080
* Anotaciones por frame con bounding boxes
* Secuencias temporales reales (tracking)

El dataset base: `https://www.kaggle.com/datasets/nhnhunhch/mot17-coco`

---

### ğŸ›  InstalaciÃ³n y entorno

Se recomienda usar un entorno virtual (conda o venv). A continuaciÃ³n instrucciones con `venv` (Windows / Linux / macOS).

```bash
python -m venv venv
# Windows (PowerShell)
# .\venv\Scripts\Activate.ps1
# Linux / macOS
source venv/bin/activate
pip install -r requirements.txt
```

`requirements.txt` incluye (ejemplos): `numpy, pandas, scikit-learn, matplotlib, opencv-python, scikit-image, torch, torchvision, tqdm`.

---

### ğŸš€ EjecuciÃ³n â€” Notebooks (recomendado)

Abrir `run_pipeline.py`o desde la raÃ­z del proyecto y ejecutar desde la terminar el siguiente comando:
``` 
 python src\run_pipeline.py --images data\mot17\images --annotations data\mot17\annotations\train.json --out results\cis_val_run --detector yolov8n.pt --device cpu --n 300

```

**Nota:** El archivo `notebooks/exploratorio.ipynb` es el Ãºnico .ipynb ejecutable que nos permite realizar un primer acercamiento realizando resultados vistos a lo largo del curso sobre la data.

---

### ğŸ§­ Uso desde Python â€” API mÃ­nima

Ejemplos de import desde `src`:

```python
from src.detector import YOLODetector
from src.tracker import OpticalFlowTracker
from src.eval import detection_metrics
from src.utils import to_int_bbox
from src.data_loader import get_image_list_from_json, load_annotations
```
---

